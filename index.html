<!DOCTYPE html>
<html lang="th">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Viewer</title>

<style>
body {
    margin:0;
    background:#000;
    display:flex;
    justify-content:center;
    align-items:center;
    height:100vh;
    overflow:hidden;
}
img#big {
    max-width:100%;
    max-height:100%;
    user-select:none;
}
</style>
</head>

<body>

<img id="big">

<script>
// อ่านค่า p จาก URL
const url = new URLSearchParams(window.location.search);
let p = parseInt(url.get("p"));

function show() {
    document.getElementById("big").src = "img/" + String(p).padStart(3,'0') + ".jpg";
}
show();

// สไลด์ซ้ายขวา
let startX = 0;

document.addEventListener("touchstart", e => startX = e.touches[0].clientX);

document.addEventListener("touchend", e => {
    let endX = e.changedTouches[0].clientX;

    if (startX - endX > 50) {  // ปัดซ้าย → ไปหน้าถัดไป
        p++;
        show();
    }
    if (endX - startX > 50) {  // ปัดขวา → หน้าก่อนหน้า
        if (p > 1) {
            p--;
            show();
        }
    }
});

// ปุ่มซ้ายขวาคีย์บอร์ด
document.addEventListener("keydown", e => {
    if (e.key === "ArrowRight") { p++; show(); }
    if (e.key === "ArrowLeft") { if(p>1){p--; show();} }
});
</script>

</body>
</html>
